<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vivida Posters</title>
    <link rel="icon" href="./vivida.png" />

    <!-- Base and Section Styles -->
    <link rel="stylesheet" href="assets/css/base.css" />
    <link rel="stylesheet" href="assets/css/header.css" />
    <link rel="stylesheet" href="assets/css/hero.css" />
    <link rel="stylesheet" href="assets/css/products.css" />
    <link rel="stylesheet" href="assets/css/contact.css" />
    <link rel="stylesheet" href="assets/css/footer.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="site-header">
      <div class="container nav-container">
        <a href="#top" class="brand">
          <img src="./vivida.png" alt="Vivida" class="logo" />
          <span class="brand-name">Vivida</span>
        </a>

        <button class="nav-toggle" aria-label="Toggle navigation" id="navToggle" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>

        <nav class="nav" id="siteNav" aria-label="Primary">
          <a href="#hero">Home</a>
          <a href="#products">Products</a>
          <a href="#contact">Contact</a>
          <a href="my-orders.html">My Orders</a>
          <a id="accountLink" href="auth.html">Account</a>
        </nav>

        <button class="cart-button" id="cartButton" aria-label="Open cart" aria-haspopup="dialog">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M7 4h-2l-1 2m0 0l2.4 9.6a2 2 0 0 0 2 1.4h8.3a2 2 0 0 0 2-1.5L21 8H6M4 6h17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </header>

    <!-- Hero -->
    <section id="hero" class="hero-section">
      <div class="container">
        <div class="hero-slider" id="heroSlider" aria-roledescription="carousel" aria-label="Featured posters">
          <div class="slides" id="heroSlides"></div>
          <button class="slide-nav prev" id="heroPrev" aria-label="Previous slide">&#10094;</button>
          <button class="slide-nav next" id="heroNext" aria-label="Next slide">&#10095;</button>
        </div>
      </div>
    </section>

    <!-- Products -->
    <section id="products" class="products-section">
      <div class="container">
        <div class="section-head">
          <h2>Discover Posters</h2>
          <p>Premium prints to elevate your space.</p>
        </div>
        <div id="productsGrid" class="products-grid" aria-live="polite"></div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="contact-section">
      <div class="container contact-wrap">
        <div class="contact-form-card">
          <h3>Contact Us</h3>
          <form id="contactForm">
            <div class="field">
              <label for="cu_name">Full Name</label>
              <input id="cu_name" name="name" type="text" placeholder="Jane Doe" required />
            </div>
            <div class="field">
              <label for="cu_email">Email</label>
              <input id="cu_email" name="email" type="email" placeholder="jane@example.com" required />
            </div>
            <div class="field">
              <label for="cu_message">Message</label>
              <textarea id="cu_message" name="message" rows="5" placeholder="How can we help?" required></textarea>
            </div>
            <button type="submit" class="btn primary">Send Message</button>
            <p class="form-note" id="contactStatus" role="status" aria-live="polite"></p>
          </form>
        </div>
        <div class="contact-info-card">
          <h3>Follow Vivida</h3>
          <ul class="social-list">
            <li><a href="https://instagram.com/" target="_blank" rel="noopener">Instagram</a></li>
          </ul>
          <div class="contact-meta">
            <p>Email: <a href="mailto:xyz@gmail.com">xyz@gmail.com</a></p>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
      <div class="container footer-content">
        <p>© <span id="copyright2025"></span> Vivida. All rights reserved.</p>
      </div>
    </footer>

    <!-- Cart Drawer -->
    <div class="cart-drawer" id="cartDrawer" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
      <div class="cart-overlay" id="cartOverlay" tabindex="-1"></div>
      <div class="cart-panel" role="document">
        <header class="cart-header">
          <h3 id="cartTitle">Your Cart</h3>
          <button class="icon-button" id="closeCart" aria-label="Close cart">✕</button>
        </header>
        <div class="cart-body">
          <section class="cart-section">
            <h4>Cart Items</h4>
            <ul id="cartItems" class="cart-items"></ul>
            <div class="cart-summary">
              <span>Total:</span>
              <strong id="cartTotal">$0.00</strong>
            </div>
            <div class="cart-actions">
              <a class="btn primary" href="order.html">Checkout</a>
              <button class="btn ghost" id="clearCartBtn">Clear Cart</button>
            </div>
          </section>
          <section class="cart-section orders">
            <h4>Recent Orders</h4>
            <ul id="recentOrders" class="orders-list"></ul>
          </section>
        </div>
      </div>
    </div>

    <!-- Image Lightbox -->
    <div class="lightbox" id="imageLightbox" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="lightbox-overlay" id="lightboxOverlay"></div>
      <figure class="lightbox-content">
        <img id="lightboxImage" alt="Poster full view" />
        <figcaption id="lightboxCaption"></figcaption>
        <button class="icon-button lightbox-close" id="lightboxClose" aria-label="Close full image">✕</button>
      </figure>
    </div>

    <!-- Scripts -->
    <script src="assets/js/posters-manifest.js"></script>
    <script src="assets/js/storage.js"></script>
    <script src="assets/js/header.js"></script>
    <script src="assets/js/hero.js"></script>
    <script src="assets/js/products.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script src="assets/js/contact.js"></script>
    <script src="assets/js/auth.js"></script>
    <script>
      (function(){
        const y = new Date().getFullYear();
        const el = document.getElementById('copyright2025') || document.getElementById('copyrightYear');
        if (el) el.textContent = y;
        const acc = document.getElementById('accountLink');
        if(window.VividaAuth && acc){
          const user = window.VividaAuth.getCurrentUser();
          if(user){
            acc.textContent = user.fullName.split(' ')[0] + ' (Logout)';
            acc.href = '#logout';
            acc.addEventListener('click', (e) => {
              e.preventDefault();
              window.VividaAuth.logout();
              location.reload();
            });
          } else {
            acc.textContent = 'Login / Sign up';
            acc.href = 'auth.html';
          }
        }
      })();
    </script>
  </body>
</html> 